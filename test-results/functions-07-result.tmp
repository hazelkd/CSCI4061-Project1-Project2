(TEST 7) read_all_1
COMMENTS:

program: ./test_cmd read_all_1
Failure messages:
- FAILURE(13): Valgrind detected errors
- FAILURE: Output Mismatch at lines marked

--- Side by Side Differences ---
- Expect output in: test-results/raw/functions-07-expect.tmp
- Actual output in: test-results/raw/functions-07-actual.tmp
- Differing lines have a character like '|' '>' or '<' in the middle
==== EXPECT ====                                                       ==== ACTUAL ====                                                    
{                                                                      {
    // Tests the read_all() function to ensure that                        // Tests the read_all() function to ensure that
    // it properly accumulates all data from an                            // it properly accumulates all data from an
    // arbitrary input FD including allocating memory                      // arbitrary input FD including allocating memory
    // for the data.                                                       // for the data.
    //                                                                     // 
    // NOTE: read_all() should null-terminate the                          // NOTE: read_all() should null-terminate the
    // strings it reads and Valgrind might report                          // strings it reads and Valgrind might report
    // "Uninitialized Data" if no '\0' character is                        // "Uninitialized Data" if no '\0' character is
    // placed in the character array that is                               // placed in the character array that is
    // returned.                                                           // returned.
    int fd = open("test_data/quote.txt", O_RDONLY);                        int fd = open("test_data/quote.txt", O_RDONLY);
    int bytes_read = -1;                                                   int bytes_read = -1;
    char *actual_read = read_all(fd, &bytes_read);                         char *actual_read = read_all(fd, &bytes_read);
    int result = close(fd);                                                int result = close(fd);
    printf("result: %d\n", result);                                        printf("result: %d\n", result);
    printf("bytes_read: %d\n", bytes_read);                                printf("bytes_read: %d\n", bytes_read);
    printf("actual_read:\n" );                                             printf("actual_read:\n" );
    printf("--------------------\n" );                                     printf("--------------------\n" );
    printf("%s",actual_read);                                              printf("%s",actual_read);
    printf("--------------------\n" );                                     printf("--------------------\n" );
    free(actual_read);                                                     free(actual_read);
}                                                                      }
result: 0                                                              result: 0
bytes_read: 125                                                        bytes_read: 125
actual_read:                                                           actual_read:
--------------------                                                   --------------------
Object-oriented programming is an exceptionally bad idea which could <
only have originated in California.                                  <
                                                                     <
-- Edsger Dijkstra                                                   <
--------------------                                                   --------------------
ALERTS:                                                                ALERTS:
--- Line Differences ---
EXPECT:  28) Object-oriented programming is an exceptionally bad idea which could
EXPECT:  29) only have originated in California.
EXPECT:  30) 
EXPECT:  31) -- Edsger Dijkstra

--- Valgrind Log from: test-results/raw/functions-07-valgrd.tmp ---
==3737625== Memcheck, a memory error detector
==3737625== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==3737625== Using Valgrind-3.15.0 and LibVEX; rerun with -h for copyright info
==3737625== Command: ./test_cmd read_all_1
==3737625== Parent PID: 3737624
==3737625== 
==3737625== Syscall param read(buf) points to unaddressable byte(s)
==3737625==    at 0x49C0142: read (read.c:26)
==3737625==    by 0x10B64A: read_all (cmd.c:139)
==3737625==    by 0x109D83: main (test_cmd.c:185)
==3737625==  Address 0x4aa4440 is 0 bytes after a block of size 1,024 alloc'd
==3737625==    at 0x483B7F3: malloc (in /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so)
==3737625==    by 0x10B61A: read_all (cmd.c:135)
==3737625==    by 0x109D83: main (test_cmd.c:185)
==3737625== 
==3737625== 
==3737625== HEAP SUMMARY:
==3737625==     in use at exit: 0 bytes in 0 blocks
==3737625==   total heap usage: 1 allocs, 1 frees, 1,024 bytes allocated
==3737625== 
==3737625== All heap blocks were freed -- no leaks are possible
==3737625== 
==3737625== For lists of detected and suppressed errors, rerun with: -s
==3737625== ERROR SUMMARY: 1 errors from 1 contexts (suppressed: 0 from 0)

